/* ====== Tema Musicala (compacto y legible) ====== */
:root{
  --brand-1:#6c3bff;  /* morado */
  --brand-2:#ff4fb0;  /* magenta */
  --ink:#151518;
  --muted:#6b7280;
  --bg:#f7f7fb;
  --card:#ffffff;
  --border:#e6e6ef;
  --ring: rgba(108,59,255,.12);

  --radius:14px;
  --radius-lg:18px;

  /* tipografía compacta */
  --fs-11:11.5px;
  --fs-12:12.5px;
  --fs-13:13.5px;
  --fs-14:14.5px;
  --fs-16:16px;
  --fs-18:18px;

  /* paddings */
  --pad-1:6px;  --pad-2:8px;  --pad-3:10px; --pad-4:12px;

  /* límites de ancho para columnas largas */
  --w-col-tarea: 460px;
  --w-col-texto-largo: 560px;

  /* contenedor */
  --container: 1100px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--ink); background:var(--bg);
  font-size:var(--fs-14); -webkit-font-smoothing:antialiased;
}

/* utilidades */
.visually-hidden{
  position:absolute!important; left:-9999px!important; width:1px;height:1px; overflow:hidden;
}

/* ====== Header ====== */
.site-header{
  position:relative;
  padding:18px 12px 52px;
  background: linear-gradient(115deg, var(--brand-1), var(--brand-2));
  color:#fff; overflow:hidden;
}
.site-header::after{
  content:""; position:absolute; inset:auto -10% 0 -10%; height:72px;
  background:#fff; border-radius:20px 20px 0 0;
}
.head-inner{
  position:relative; z-index:1; max-width:var(--container); margin:0 auto;
  display:flex; align-items:center; gap:12px;
}
.logo{ height:38px; width:auto; display:block; }
.title-wrap h1{
  margin:0; font-size:var(--fs-18); font-weight:800; line-height:1.2; letter-spacing:.2px;
}
.title-wrap p{ margin:2px 0 0; opacity:.9; font-size:var(--fs-12) }

/* ====== Card & toolbar ====== */
.card{
  position:relative; z-index:2; max-width:var(--container); margin:-34px auto 18px;
  background:var(--card); border:1px solid var(--border);
  border-radius:var(--radius-lg); box-shadow: 0 8px 22px rgba(17,17,26,.06);
  overflow:hidden;
}
.card-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px; border-bottom:1px solid var(--border);
  background: linear-gradient(180deg,#fff, #fafafe);
  flex-wrap:wrap; gap:8px;
}
.status{ color:var(--muted); font-size:var(--fs-12); }
.status.err{ color:#c21d4e; }

.btn{
  border:1px solid var(--border); background:#fff; padding:6px 10px;
  border-radius:10px; cursor:pointer; font-weight:700; font-size:var(--fs-13);
  transition:.15s transform, .15s box-shadow, .15s border-color;
}
.btn:hover{ transform:translateY(-1px); box-shadow:0 6px 14px var(--ring); }
.btn:focus{ outline:none; box-shadow:0 0 0 4px var(--ring); border-color:#cfcfea; }

/* Contadores */
#badgePend,#badgeCurso,#badgeComp{
  padding:4px 9px; border-radius:999px; font-weight:800; font-size:var(--fs-12);
  background:#fff; border:1px solid var(--border);
}

/* ====== Tabla ====== */
.table-wrap{
  width:100%; overflow:auto; border-top:1px solid var(--border);
}

/* Scrollbar sutil (Chrome/Edge) */
.table-wrap::-webkit-scrollbar{ height:10px; width:10px; }
.table-wrap::-webkit-scrollbar-thumb{ background:#d9d9e6; border-radius:999px; border:2px solid transparent; }
.table-wrap::-webkit-scrollbar-track{ background:transparent; }

table{
  width:100%; border-collapse:separate; border-spacing:0; min-width:920px;
  font-size:var(--fs-13); line-height:1.35;
}
thead th{
  position:sticky; top:0; z-index:3;
  background:#fff; border-bottom:1px solid var(--border);
  color:#3b3b42; font-weight:800; letter-spacing:.01em;
  padding:8px 10px; font-size:var(--fs-12); vertical-align:middle;
}
tbody td{
  padding:10px 12px; border-bottom:1px solid var(--border); vertical-align:top;
  color:#2b2b31;
}
tbody tr:nth-child(odd){ background:#fff; }
tbody tr:nth-child(even){ background:#fafafe; }
tbody tr:hover td{ background:#f6f6ff; }

/* celdas largas y límites de ancho */
.wrap{ white-space:normal; word-break:break-word; }
td[data-th="Tarea"]{ max-width:var(--w-col-tarea); }
td[data-th="¿Qué se avanzó?"],
td[data-th="¿Qué falta?"],
td[data-th="¿Qué se debe mejorar?"],
td[data-th="Observaciones"],
td[data-th="Documento y Herramientas"],
td[data-th="Objetivo"]{
  max-width:var(--w-col-texto-largo);
}

/* columna ID sticky a la izquierda; Acciones sticky a la derecha */
#tbl th:first-child, #tbl td:first-child{
  position:sticky; left:0; z-index:4;
  background:#fff; box-shadow:1px 0 0 var(--border);
  color:#475569; font-variant-numeric: tabular-nums; min-width:92px;
}
#tbl th:last-child, #tbl td:last-child{
  position:sticky; right:0; z-index:4;
  background:#fff; box-shadow:-1px 0 0 var(--border);
}
#tbl td:last-child{ text-align:right; }
.btn.btn-detail{ padding:5px 10px; font-size:var(--fs-12); border-radius:9px; }

/* truncado elegante (aplícalo desde JS si quisieras) */
.clamp-2{ display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
.clamp-3{ display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }

/* ====== Responsive: móvil como tarjetas ====== */
@media (max-width: 760px){
  .card-head{ padding:10px; }
  .table-wrap{ overflow:visible; }
  table{ min-width:unset; border-collapse:collapse; font-size:var(--fs-13); }
  thead{ display:none; }
  tbody{ display:grid; gap:10px; padding:10px; }
  tbody tr{
    display:grid; gap:8px; padding:12px; background:#fff;
    border:1px solid var(--border); border-radius:14px;
    box-shadow: 0 4px 10px rgba(17,17,26,.05);
  }
  tbody td{
    display:flex; gap:8px; border:none; padding:2px 0; font-size:var(--fs-13);
  }
  tbody td::before{
    content: attr(data-th) ":"; min-width:42%; color:var(--muted);
    font-weight:700; font-size:var(--fs-12);
  }
  /* quitar sticky en móvil */
  #tbl th:first-child, #tbl td:first-child,
  #tbl th:last-child,  #tbl td:last-child{
    position:static; box-shadow:none;
  }
}

/* ===== Modal ===== */
.modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:50; }
.modal.show{ display:flex; }
.modal__backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.33); }
.modal__dialog{
  position:relative; z-index:1; width:min(920px, 92vw); max-height:90vh; overflow:auto;
  background:#fff; border:1px solid var(--border); border-radius:16px;
  box-shadow:0 18px 48px rgba(0,0,0,.2);
}
.modal__header{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px; border-bottom:1px solid var(--border);
  background:linear-gradient(180deg,#fff,#fafafe);
}
.modal__content{ padding:12px; }
.modal__close{ line-height:1; }
.modal__meta{
  display:flex; gap:14px; flex-wrap:wrap; color:var(--muted); font-size:var(--fs-12);
}

/* formulario de bitácora */
.form-grid{
  display:grid; grid-template-columns: repeat(3, minmax(180px,1fr)); gap:10px;
}
.form-grid label{ display:flex; flex-direction:column; gap:6px; font-size:var(--fs-13); }
.form-grid label > span{ font-weight:700; color:#35353b; }
.form-grid label.full{ grid-column: 1 / -1; }
.form-grid input, .form-grid textarea, .form-grid select{
  border:1px solid var(--border); border-radius:10px; padding:8px 10px; font:inherit; background:#fff;
}
.form-grid textarea{ resize:vertical; min-height:84px; }
.form-actions{ display:flex; align-items:center; gap:8px; margin-top:6px; }
@media (max-width:760px){ .form-grid{ grid-template-columns: 1fr; } }

/* badges de estado dentro del modal/logs si los usas */
.badge{
  display:inline-block; padding:3px 8px; border-radius:999px;
  border:1px solid var(--border); background:#fff; font-size:var(--fs-11); font-weight:800;
}

/* ===== Botones mejorados ===== */
.btn{
  border:1px solid var(--border);
  background:#fff;
  padding:8px 12px;
  border-radius:999px;          /* pastilla */
  cursor:pointer;
  font-weight:700;
  font-size:var(--fs-13);
  transition:.15s transform,.15s box-shadow,.15s border-color,.15s background;
  display:inline-flex; align-items:center; gap:8px;
}
.btn:hover{ transform:translateY(-1px); box-shadow:0 6px 14px var(--ring); }
.btn:active{ transform:translateY(0); }
.btn:focus{ outline:none; box-shadow:0 0 0 4px var(--ring); }

.btn-ico{ line-height:1; font-size:14px; }
.btn-primary{
  background:linear-gradient(180deg,var(--brand-1),#5b2fe6);
  color:#fff; border-color:transparent;
}
.btn-primary:hover{ background:linear-gradient(180deg,#7a54ff,var(--brand-1)); }
.btn-ghost{ background:transparent; }

/* ===== Selects y buscador con cara de control ===== */
.card-head select.btn, .card-head input.btn{
  background:#fff;
  border-color:var(--border);
}
.card-head select.btn{
  padding-right:32px;           /* más aire p/chevron */
  background-image:
    linear-gradient(180deg,#fff,#fafafe),
    url("data:image/svg+xml;charset=UTF-8,%3Csvg width='12' height='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23666' d='M1 1l5 5 5-5'/%3E%3C/svg%3E");
  background-repeat:no-repeat;
  background-position: right 10px center, 0 0;
  background-size:12px 8px, auto;
}

/* ===== Contadores como chips ===== */
#badgePend,#badgeCurso,#badgeComp{
  padding:6px 10px;
  border-radius:999px;
  font-weight:800; font-size:var(--fs-12);
  background:#fff; border:1px solid var(--border);
  box-shadow:0 2px 6px rgba(17,17,26,.06);
}

/* ===== Tabla con header más elegante ===== */
thead th{
  background:linear-gradient(180deg,#fff,#f7f7fb);
  border-bottom:1px solid var(--border);
}
tbody tr{
  transition:background .12s ease;
}
tbody tr:hover td{ background:#f3f3ff; }

/* Botón de acciones pegado a la derecha en desktop */
#tbl td:last-child{ text-align:right; }
.btn.btn-detail{ padding:7px 12px; font-size:var(--fs-12); }

/* ===== Modal: header sticky y caja más suave ===== */
.modal__dialog{
  border-radius:18px;
  box-shadow:0 20px 60px rgba(0,0,0,.22);
}
.modal__header{
  position:sticky; top:0; z-index:1;
  background:linear-gradient(180deg,#fff,#fafafe);
  border-bottom:1px solid var(--border);
}

/* ===== Formularios del modal ===== */
.form-grid input,
.form-grid textarea,
.form-grid select{
  border:1px solid var(--border);
  border-radius:12px;
  padding:10px 12px;
  background:#fff;
}
.form-actions .btn{ padding:8px 14px; }

/* ===== Tarjeta principal más “flotada” ===== */
.card{
  border-radius:20px;
  box-shadow:0 14px 38px rgba(17,17,26,.10);
}

/* ===== Responsive: botón de acciones ocupa todo el ancho en móvil ===== */
@media (max-width:760px){
  #tbl td:last-child{ text-align:left; }
  .btn.btn-detail{ width:100%; justify-content:center; }
}
